<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Create Accommodation</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
  <form [formGroup]="form" (submit)="submit()">
    <h1 class="h3 mb-3 fw-normal">Add your accommodation</h1>

    <div class="form-floating">
      <input formControlName="name" type="text" class="form-control" id="floatingInput">
      <label for="floatingInput">Name</label>
    </div>
    <div class="form-floating">
      <input formControlName="location" type="text" class="form-control" id="floatingInput">
      <label for="floatingInput">Location</label>
    </div>
    <div class="form-floating">
      <input formControlName="min_guests" type="number" class="form-control" id="floatingPassword">
      <label for="floatingPassword">Minimal Guests</label>
    </div>
    <div class="form-floating">
      <input formControlName="max_guests" type="number" class="form-control" id="floatingInput">
      <label for="floatingInput">Maximal Guests</label>
    </div>
    <div class="form-group">
      <label for="amenities">Amenities</label>
      <div class="row">
        <div class="col-md-6">
          <div class="form-check" *ngFor="let amenity of ['wifi', 'pool', 'gym']">
            <input formControlName="{{amenity}}" class="form-check-input" type="checkbox" [id]="amenity"
              [value]="amenity" (change)="updateAmenities($event, amenity)">
            <label class="form-check-label" [for]="amenity">{{amenity}}</label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-check" *ngFor="let amenity of ['wellness', 'restaurant', 'allInclusive']">
            <input formControlName="{{amenity}}" class="form-check-input" type="checkbox" [id]="amenity"
              [value]="amenity" (change)="updateAmenities($event, amenity)">
            <label class="form-check-label" [for]="amenity">{{amenity}}</label>
          </div>
        </div>
      </div>
    </div>
    <div class="form-floating">
      <input formControlName="host_id" type="text" class="form-control" id="floatingInput">
      <label for="floatingInput">Host ID</label>
    </div>
    <div class="form-floating">
      <select formControlName="price_type" class="form-select" id="floatingSelect">
        <option value="Whole">Whole</option>
        <option value="Per guest">Per guest</option>
      </select>
      <label for="floatingSelect">Price Type</label>
    </div>
 <div formArrayName="availability">
      <div *ngFor="let availability of availabilityArray.controls; let i=index;">
        <div class="form-group">
          <label for="startDate{{i}}">Start Date</label>
          <input formControlName="{{i}}.start" type="date" class="form-control" id="startDate{{i}}">
        </div>
        <div class="form-group">
          <label for="endDate{{i}}">End Date</label>
          <input formControlName="{{i}}.end" type="date" class="form-control" id="endDate{{i}}">
        </div>
        <div class="form-group">
          <label for="pricePerNight{{i}}">Price Per Night</label>
          <input formControlName="{{i}}.price_per_night" type="number" class="form-control" id="pricePerNight{{i}}">
        </div>
        <div class="form-group">
          <label for="priceOnWeekends{{i}}">Price On Weekends</label>
          <input formControlName="{{i}}.price_on_weekends" type="number" class="form-control"
            id="priceOnWeekends{{i}}">
        </div>
        <button type="button" class="btn btn-danger" (click)="removeAvailability(i)">Remove</button>
      </div>
    </div>
    <div class="btn-group" role="group" aria-label="Profile actions">
      <div class="mx-1">
        <button type="button" class="btn btn-success" (click)="addAvailability()">
          Add Availability
        </button>
      </div>
      <div class="mx-1">
        <button class="btn btn-primary w-100 py-2" type="submit">Create</button>
      </div>
    </div>
    <p class="mt-5 mb-3 text-body-secondary">© 2017–2023</p>
  </form>
</body>

</html>
